<!DOCTYPE html>
<html>
  <head>
    <link href='prism.css' rel='stylesheet' type='text/css'/>
    <meta charset="UTF-8">
    <title>David Chien</title>
</head>
<body class="line-numbers">
	<script src='prism.js ' type='text/javascript'></script>
<pre>
<code class="language-python">def maina():
    from sys import stdin
    e = stdin.readline
    T = int(e())
    for _ in range(T):
        __ = e()                          # 這列空白
        n, k = map(int, e().split())      # read n, k
        Tr = {}                           # 先宣告本筆測資的車站
        
        # 只跑一次迴圈, 紀錄每個車站在路線上的位置
        # 如果本站第一次出現, 紀錄 i 
        # 第一次以後記錄在第二個值
        i = 0
        for x in e().strip().split():     
            if(Tr.__contains__(x)): Tr[x][1] = i
            else: Tr[x] = [i, i]
            i += 1
        
        # 接著有 k 筆查詢
        # 每筆要查詢 站名 a 是否能到 站名 b
        # if a or b not in Tr.keys() --> NO
        # if a == b                  --> YES
        # if last b > first a        --> YES
        # else                       --> NO
        for i in range(k):
            a, b = e().strip().split()
            if(a not in Tr.keys() or b not in Tr.keys()):
                print('NO')
            elif(a == b): print('YES')
            else:
                a = Tr[a][0]
                b = Tr[b][1]
                if(b > a): print('YES')
                else: print('NO')
maina()

</code>
</pre>
</body>
</html>
</html>